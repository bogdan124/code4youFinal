<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
<link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

<!------ Include the above in your HEAD tag ---------->



  <meta charset='UTF-8'>

 
  <link rel="canonical" href="https://codepen.io/Diakogiannis/pen/XdpjEJ?limit=all&page=12&q=editor" />
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.44.0/codemirror.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.44.0/theme/3024-night.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">


  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js" type="text/javascript"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.44.0/codemirror.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.44.0/mode/python/python.js"></script>
  <script src="http://www.skulpt.org/static/skulpt.min.js" type="text/javascript"></script>
  <script src="http://www.skulpt.org/static/skulpt-stdlib.js" type="text/javascript"></script>

<style class="cp-pen-styles">* {
	margin:0;
	padding:0;
}


iframe {
	display:block;
	height:100%;
	width:80%;
	margin:auto;
	box-sizing: border-box;
	border:none;
}



h5 {
	display:block;
	width:100%;
	margin-top:20px;
}

h2 {
	display:block;
	width:100%;
}
.CodeMirror.cm-s-default {


}
.CodeMirror {
height:100% !important;
float:left;
width:50%;
}

body {
  margin: 0px;
}
.edoutqqput {
    width:50%;
    background: #ccc;
    color: #black;
    height: 100%;
    overflow: auto;
    font-family: "Consolas","Lucida Console","Monaco",monospace;
    float:right;
position:relative;
top:1px;


}
.edoutqqput1{

  background-color:;
}
.go_top {
    z-index: 100;
}
.menu{
z-index:100000000;
}


.up_header{
background-color: #fafafb !important;
background-color: white !important;
box-shadow: 0px 2px 18px rgba(0,0,0,0.3);
box-shadow: 0 1px 0 rgba(12,13,14,0.1), 0 1px 6px rgba(59,64,69,0.1);
height:33px;
width:100%;
}
.ul_top{
display:inline;
float:left;
}
.btn_go_run{
border-radius:0px !important;
}
.user_photo{
float:right;
margin-right:123px;
}
.gith_run_right{
float:right;

}
#problem__ {
    margin: 1%;
    font-family: "Lato", "Helvetica Neue", "Helvetica", sans-serif;
}
.language__,.language__:hover{
text-decoration:none;
color:white;

}
.problem__solved{
color:green;
}
#problem__ {
    width: 45% !important;
}
.move_left_button {
    float: right;
    width: 42%;
    margin-top: -300px;
}
.flip-clock-label ,.flip-clock-divider.minutes{
    display: none !important;
}
.flip-clock-label,
.flip-clock-divider.days,
.flip-clock-divider.hours,
.clock ul:nth-child(1),
.clock ul:nth-child(2),
.clock ul:nth-child(3)
{
    display: none !important;
}
.your-clock.flip-clock-wrapper {
    align-content: center;
    margin-left: 50em;
}
#game_down_countdown {
    position: fixed;
    bottom: 0em;
    right: 0em;
}
</style>
<body>
<section class="up_header">
<button type="button" class="btn_go_run btn btn-success" onclick='runit()'>Run</button>
<button type="button" class="btn_go_run btn btn-success" data-toggle="modal" data-target="#exampleModal">Github</button>
<button type="button" class="btn_go_run btn btn-success" data-toggle="modal" data-target="#exampleModal_language">Language</button>
<img class="user_photo" width="30px" height="30px" src="https://image.flaticon.com/icons/png/128/149/149071.png">
</section>

 
			<section id='wrapper'>
			{%if default==0 and id_problem!=-1%}	
			{%for i in fetc1%}<div id="problem__solved"></div>
				<div id="problem__"> <strong>Problem:</strong><br/> <br/>{{ i[2] | safe }}</div>
			{%endfor%}
			{%endif%}
		<div class="move_left_button">
		
		</div>
				<section class="codeContainer" id="htmlContainer">
					
					{%if default==1 %}
					  {%for i in fetch%}
					<textarea class="codemirror-textarea" id="yourcode">{{i[1]}}</textarea>
					  {%endfor%}
					{%endif%}
					{%if default==0%}
					<textarea class="codemirror-textarea" id="yourcode"></textarea>
					{%endif%}
				</section>

				<section class="codeContainer code_conta" id="resultContainer">
					
					<pre id="output" class="edoutqqput"></pre>
					  <div id="mycanvas" class="edoutqqput1"></div>
					
				</section>
			</section>
{% if no_clock != True %}
{% if game != -1 %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flipclock/0.7.8/flipclock.css">
<section  id="game_down_countdown">
		<center><div class="your-clock" ></div></center>
		
		
		<script src="https://cdnjs.cloudflare.com/ajax/libs/flipclock/0.7.8/flipclock.min.js"></script>
<script>

var clock = $('.your-clock').FlipClock(300, {
		countdown: true,
		clockFace: 'MinuteCounter'
	});
</script>
	
</section>
{% endif %}


{% endif %}

<div class="modal fade" id="exampleModal_language" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Languages</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
    	
	<div class="container">
	<div class="row">
		

	{%if default==0 %}	
		<a class='language__' href='/compile_python?default=0&id_problem={{ id_problem | safe }}&language=Ruby&game={{game}}'><button type="button" class="btn_go_run btn btn-success">Ruby</button></a>
		<a class='language__' href='/compile_python?default=0&id_problem={{ id_problem | safe }}&language=Bash&game={{game}}'><button type="button" class="btn_go_run btn btn-success">Bash</button></a>
		<a class='language__' href='/compile_python?default=0&id_problem={{ id_problem | safe }}&language=Python&game={{game}}'><button type="button" class="btn_go_run btn btn-success">Python</button></a>
		<a class='language__' href='/compile_python?default=0&id_problem={{ id_problem | safe }}&language=Python&game={{game}}'><button type="button" class="btn_go_run btn btn-success">Help</button></a>
			{%endif%}


        </div>
	</div>
</div>

      </div>
    
    </div>
  </div>
</div>


<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
    	
	<div class="container">
	<div class="row">
		<div class="form-card">
            <div class='form-group'>
              <div class='col-xs-12 form-group'>
                <label class="control-label locked" for="name-input-field">Github name</label>
                <input id="github_name" onkeyup="search_your_github_account()" name="name" class="form-control" type="text" required=""/>
		<div class="show_github_accounts">
					
		</div>
              </div>
            </div>

bogdan124

<script>
function search_your_github_account(){

var github_name=$("#github_name").val();
 $.ajax({
	url: "https://api.github.com/users/"+github_name, 
	method: "GET",
        contentType: "application/vnd.github.v3+json",
	success: function(result){
	console.log(result);
    	  $(".show_github_accounts").html("<div class='user_git'><img src='"+result.avatar_url+"' width='30px' height='30px'/>"+result.name+"<button type='button' class='btn_go_run gith_run_right btn btn-success' onclick="+select_the_github_repo(result.name)+">Select</button></div>");
   	}
  });    
}	

function select_the_github_repo(gith_name){
console.log(gith_name);
//$("#show_github_accounts").html("");
}
</script>
<!--
            <div class='form-group'>
              <div class='col-xs-12 form-group'>
                <label class="control-label locked" for="phone-input-field">Phone Number</label>
                <input id="phone_number" name="phone_number" type="text" placeholder="08xxxxxxxxxx" class="form-control locked" required="">
              </div>
            </div>
            <div class="form-group locked">
                <div class='col-xs-12 form-group'>
                    <label class="control-label locked" for="email-input-field">Email</label>
                    <input id="email" name="email" type="text" placeholder="email@email.com" class="form-control locked" required="">
                </div>
            </div>
            <div class="form-group locked">
                <div class='col-xs-12 form-group'>
                    <label class="control-label locked" for="desc-input-field">Description</label>
                    <textarea name="desc" id="desc" cols="0" rows="3" class="form-control locked"></textarea>
                </div>
            </div>
            <div class="form-group locked">
                <div class='col-xs-12 form-group'>
                    <label class="control-label locked" for="desc-input-field">Address</label>
                    <textarea name="address" id="address" cols="0" rows="3" class="form-control locked"></textarea>
                </div>
            </div>-->
        </div>
	</div>
</div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>

		</body>
<script>





var get_url=window.location.href;
var url = new URL(get_url);
var code_id = url.searchParams.get("code_id");
var language = url.searchParams.get("language");
console.log(code_id,language);

evaluate_language(language,code_id);
function evaluate_language(language1,code_id1){

  if(language1=="Python" || language1=="Ruby" || language1=="Cpp" || language1=="Bash"){
    $(".button_add_run").html("<button id='runButton' onclick='runit()'>Run</button>");
    $(".name_language").html("<h5>"+language1+"</h5>");
  }
   if(language1=="Html"){
    $(".button_add_run").html("<button id='runButton' onclick='runhtml()'>Run</button>");
    $(".name_language").html("<h5>"+language1+"</h5>");
    $(".code_conta").html("<iframe width='100%' id='iframe1'></iframe>");
    $(".edoutqqput").remove();
    $(".edoutqqput1").remove();


  }

}



  var code = $(".codemirror-textarea")[0];
  var editor = CodeMirror.fromTextArea(code, {
    lineNumbers : true,
    theme :"3024-night"
  });




function runhtml(){
       var textareaValue =editor.getValue();
      // var myFrame = $("#myframe").contents().find('html');
    //   $("#myframe").load(function(e){
  //      $(this).contents().find('html').html("<h1 style='text-align: center;color:red;'>This IS an iframe</h1>");
  //  });
  $('#iframe1').contents().find('html').html(textareaValue);


}




function outf(text) {
    var mypre = document.getElementById("output");
    mypre.innerHTML = mypre.innerHTML + text;
}
function builtinRead(x) {
    if (Sk.builtinFiles === undefined || Sk.builtinFiles["files"][x] === undefined)
            throw "File not found: '" + x + "'";
    return Sk.builtinFiles["files"][x];
}

function runit() {
   var prog =editor.getValue();

   var mypre = document.getElementById("output");

   $.ajax({
	url: "/code_analise?language="+language, 
	method: "POST",
        contentType: "application/json;charset=utf-8",
	data:JSON.stringify({
	"data":	prog
	}),
	success: function(result){
		{%if default==0 and id_problem!=-1%}	
			{%for i in fetc1%}
				if({{i[3]}}==result){
					$("#problem__solved").html("Solved");
					alert("Good answer!");
					$("#problem__solved").css("color","red");
				}else{
					
					alert("Wrong answer!");
				}
	    	  	 
			{%endfor%}
		{%endif%}
		$(".edoutqqput").html(result);
   	}
  });    
	

   mypre.innerHTML = '';
   Sk.pre = "output";
   console.log(mypre,prog);
   Sk.configure({output:outf, read:builtinRead});
   (Sk.TurtleGraphics || (Sk.TurtleGraphics = {})).target = 'mycanvas';
   var myPromise = Sk.misceval.asyncToPromise(function() {
       return Sk.importMainWithBody("<stdin>", false, prog, true);
   });
   myPromise.then(function(mod) {
       console.log('success');
   },
       function(err) {
       console.log(err.toString());
   });
}


</script>
